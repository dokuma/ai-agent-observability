# ===========================================================
# AI Agent Monitoring — 環境変数設定
# ===========================================================
# このファイルを .env にコピーして使用:
#   cp .env.example .env

# --- LLM ---
LLM_ENDPOINT=http://ollama:11434/v1
LLM_MODEL=qwen2.5:0.5b

# --- Monitoring Stack ---
PROMETHEUS_URL=http://prometheus:9090
LOKI_URL=http://loki:3100
GRAFANA_URL=http://grafana:3000
GRAFANA_API_KEY=

# --- MCP Servers ---
MCP_PROMETHEUS_URL=http://prometheus-mcp:8080
MCP_LOKI_URL=http://loki-mcp:8080
MCP_GRAFANA_URL=http://grafana-mcp:8000

# --- Grafana Service Account Token ---
# Grafana MCP がダッシュボード操作に使用するトークン。
# Grafana 起動後に Admin > Service Accounts から生成して設定する。
GRAFANA_SERVICE_ACCOUNT_TOKEN=glsa_test_token

# --- Service Credentials ---
# 本番環境では必ず変更してください。
# docker-compose.yaml 内の各サービスがこれらの値を参照します。
#
# [Docker Secrets]
# 環境変数の代わりに Docker Secrets を使用できます。
# secrets/ ディレクトリにシークレット名と同名のファイルを配置すると、
# 各コンテナの /run/secrets/<シークレット名> にマウントされます。
# 詳細は docs/secrets-management.md を参照してください。
#
# Docker Secrets 使用時の設定手順:
#   mkdir -p secrets && chmod 700 secrets
#   openssl rand -hex 16 | tr -d '\n' > secrets/gf_admin_password
#   openssl rand -hex 16 | tr -d '\n' > secrets/postgres_password
#   # ... 他のシークレットも同様に作成
#   chmod 600 secrets/*
#
# 環境変数が設定されている場合はそちらが優先されます。
GF_ADMIN_PASSWORD=admin
POSTGRES_PASSWORD=langfuse
CLICKHOUSE_PASSWORD=clickhouse
REDIS_PASSWORD=langfuse-redis-secret
MINIO_ROOT_PASSWORD=langfuse-minio-secret
LANGFUSE_INIT_USER_PASSWORD=adminadmin
WEBUI_SECRET_KEY=dev-secret-key

# --- Langfuse ---
LANGFUSE_ENABLED=true
LANGFUSE_PUBLIC_KEY=pk-lf-dev
LANGFUSE_SECRET_KEY=sk-lf-dev
LANGFUSE_BASE_URL=http://langfuse-web:3000

# --- Langfuse Self-hosted Secrets ---
# [重要] 本番環境では以下のコマンドで各キーを生成してください:
#   openssl rand -hex 32
# 開発環境用のデフォルト値はセキュリティ上安全ではありません。
LANGFUSE_NEXTAUTH_SECRET=changeme-generate-with-openssl-rand-hex-32
LANGFUSE_SALT=changeme-generate-with-openssl-rand-hex-32
LANGFUSE_ENCRYPTION_KEY=changeme000000000000000000000000000000000000000000000000000000000

# --- Agent ---
MAX_ITERATIONS=5
INVESTIGATION_TIMEOUT_SECONDS=120

# --- Notifications (optional) ---
SLACK_WEBHOOK_URL=
